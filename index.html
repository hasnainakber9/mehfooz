<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mehfooz - The Direction in the Noise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #010409;
            --text-color: #E2E8F0;
            --accent-color-1: #38bdf8; /* sky-500 */
            --accent-color-2: #818cf8; /* indigo-400 */
            --slate-800-alpha: rgba(30, 41, 59, 0.5);
            --cursor-color: #ffffff;
        }

        /* --- Custom Scrollbar --- */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--accent-color-1), var(--accent-color-2));
            border-radius: 4px;
        }

        body {
            font-family: 'Manrope', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            cursor: none;
        }
        body.loading {
            overflow: hidden;
        }

        .font-display { font-family: 'Bebas Neue', sans-serif; }
        
        /* --- Pre-loader --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            transition: opacity 0.8s ease, visibility 0.8s;
        }
        #preloader.loaded {
            opacity: 0;
            visibility: hidden;
        }
        .loader-text {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3rem;
            letter-spacing: 0.5rem;
            overflow: hidden;
        }
        .loader-char {
            display: inline-block;
            transform: translateY(100%);
            animation: reveal-char 1.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }
        @keyframes reveal-char {
            to { transform: translateY(0); }
        }
        #loader-bar-container {
            width: 200px;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.1);
            margin-top: 1rem;
        }
        #loader-bar {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color-1), var(--accent-color-2));
            transition: width 2s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* --- Custom Cursor --- */
        #cursor-dot, #cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 9999;
            pointer-events: none;
            border-radius: 50%;
            will-change: transform;
        }
        #cursor-dot {
            width: 8px;
            height: 8px;
            background-color: var(--cursor-color);
            transition: transform 0.2s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #cursor-outline {
            width: 40px;
            height: 40px;
            border: 1px solid var(--cursor-color);
            transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1), background-color 0.3s, opacity 0.3s, width 0.3s, height 0.3s;
        }
        .cursor-active {
            transform: scale(1.5);
            background-color: rgba(255, 255, 255, 0.1);
        }
        .cursor-text {
            width: 80px;
            height: 80px;
        }
        .dot-active {
            transform: scale(0.5);
        }
        
        /* --- Navigation Header --- */
        #main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1), background-color 0.3s;
            transform: translateY(-100%);
        }
        #main-header.header-visible {
            transform: translateY(0);
            background-color: rgba(1, 4, 9, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        #main-header nav a {
            position: relative;
            transition: color 0.3s;
        }
        #main-header nav a::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 1px;
            bottom: -4px;
            left: 0;
            background: linear-gradient(90deg, var(--accent-color-1), var(--accent-color-2));
            transform: scaleX(0);
            transform-origin: bottom right;
            transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }
        #main-header nav a:hover {
            color: white;
        }
        #main-header nav a:hover::after {
            transform-origin: bottom left;
            transform: scaleX(1);
        }

        /* --- Animated Starfield Background --- */
        #starfield-canvas, #nebula-canvas {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
        }
        #starfield-canvas { z-index: -1; }
        #nebula-canvas { z-index: -2; opacity: 0.3; }

        /* --- Text & Element Animations --- */
        .reveal-container {
            display: inline-block;
            overflow: hidden;
            vertical-align: bottom; /* Fix alignment issues */
        }
        .reveal-text {
            display: block;
            transform: translateY(110%);
            transition: transform 1.2s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .visible .reveal-text {
            transform: translateY(0);
        }

        .fade-in {
            opacity: 0;
            transform: translateY(3rem) scale(0.95);
            transition: opacity 1.2s ease, transform 1.2s ease;
        }
        .visible .fade-in {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(0.5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        .float-anim {
            animation: float 6s ease-in-out infinite;
        }

        /* --- NEW: Why Now Section Pulse --- */
        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 0 40px rgba(236, 72, 153, 0.2), 0 0 60px rgba(236, 72, 153, 0.1);
            }
            50% {
                box-shadow: 0 0 60px rgba(236, 72, 153, 0.4), 0 0 80px rgba(236, 72, 153, 0.2);
            }
        }
        .pulse-glow-border {
            animation: pulse-glow 4s ease-in-out infinite;
        }
        
        /* --- Holographic Card --- */
        .holographic-card {
            background: rgba(10, 25, 47, 0.3);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
        }

        .holographic-card .glare {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0) 60%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        /* --- Chat UI --- */
        .chat-ui {
            transform: scale(0.9) rotateX(10deg);
            opacity: 0;
            transition: transform 1.5s cubic-bezier(0.19, 1, 0.22, 1), opacity 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .visible .chat-ui {
            transform: scale(1) rotateX(0deg);
            opacity: 1;
        }
        .chat-bubble {
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        .visible .chat-bubble {
            opacity: 1;
            transform: translateX(0);
        }

        /* --- Animated Grid Background --- */
        #animated-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-image:
                linear-gradient(rgba(129, 140, 248, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(129, 140, 248, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: move-grid 20s linear infinite;
        }
        @keyframes move-grid {
            from { background-position: 0 0; }
            to { background-position: 50px 50px; }
        }

        /* --- Roadmap Timeline --- */
        .timeline-item {
            position: relative;
            padding-left: 3rem;
            padding-bottom: 3rem;
            border-left: 2px solid rgba(255, 255, 255, 0.1);
        }
        .timeline-item:last-child {
            border-left: 2px solid transparent;
            padding-bottom: 0;
        }
        .timeline-marker {
            position: absolute;
            left: -0.8rem; /* Adjusted for 2px border */
            top: 0;
            width: 1.5rem;
            height: 1.5rem;
            background-color: var(--bg-color);
            border: 2px solid var(--accent-color-2);
            border-radius: 50%;
            transform: scale(0);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .visible .timeline-marker {
            transform: scale(1);
        }
        
        /* --- Impact Counters --- */
        .impact-number {
            font-family: 'Bebas Neue', sans-serif;
        }
        
        /* --- FAQ Accordion --- */
        .faq-item details {
            transition: background-color 0.3s;
        }
        .faq-item details[open] {
            background-color: rgba(30, 41, 59, 0.3);
        }
        .faq-item summary {
            list-style: none;
            cursor: pointer;
        }
        .faq-item summary::-webkit-details-marker {
            display: none;
        }
        .faq-icon {
            transition: transform 0.3s;
        }
        details[open] .faq-icon {
            transform: rotate(45deg);
        }

        /* --- Blog Cards --- */
        .blog-card {
            transition: transform 0.4s ease, background-color 0.4s ease;
        }
        .blog-card:hover {
            transform: translateY(-10px);
            background-color: rgba(30, 41, 59, 0.7);
        }
        .blog-card-arrow {
            transition: transform 0.3s ease;
        }
        .blog-card:hover .blog-card-arrow {
            transform: translateX(5px);
        }

        /* --- Interactive Terminal --- */
        #terminal {
            font-family: 'Courier New', Courier, monospace;
            background-color: rgba(0,0,0,0.5);
            border: 1px solid rgba(129, 140, 248, 0.3);
            height: 400px;
            overflow-y: auto;
            color: #0f0;
            text-shadow: 0 0 5px #0f0;
        }
        .terminal-line {
            white-space: pre-wrap;
            word-break: break-all;
        }
        .terminal-line.command::before {
            content: '$ ';
            color: var(--accent-color-1);
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        
        /* --- Contact Form --- */
        .form-input, .form-textarea, .form-select {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent-color-1);
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.3);
        }
        .form-submit-button {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .form-submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(56, 189, 248, 0.2);
        }
        .form-submit-button .button-glare {
            position: absolute;
            top: -50%;
            left: -150%;
            width: 20px;
            height: 200%;
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(30deg);
            transition: left 0.8s ease;
            pointer-events: none;
        }
        .form-submit-button:hover .button-glare {
            left: 150%;
        }

        /* --- Scroll Progress Bar --- */
        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-color-1), var(--accent-color-2));
            width: 0%;
            z-index: 10001;
            transition: width 0.1s linear;
        }
        
        /* --- Buzzing Icons --- */
        @keyframes buzz {
            0%, 100% { transform: translate(0, 0) rotate(0); }
            20% { transform: translate(-1px, 1px) rotate(-1deg); }
            40% { transform: translate(-1px, -1px) rotate(-1deg); }
            60% { transform: translate(1px, 1px) rotate(1deg); }
            80% { transform: translate(1px, -1px) rotate(1deg); }
        }
        .buzzing-icon:hover {
            animation: buzz 0.5s linear infinite;
        }
    </style>
</head>
<body class="antialiased loading">
    <!-- PRE-LOADER -->
    <div id="preloader">
        <div class="loader-text"></div>
        <div id="loader-bar-container"><div id="loader-bar"></div></div>
    </div>

    <!-- CUSTOM CURSOR -->
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>

    <!-- PAGE ELEMENTS -->
    <div id="progress-bar"></div>
    <canvas id="nebula-canvas"></canvas>
    <canvas id="starfield-canvas"></canvas>

    <!-- HEADER -->
    <header id="main-header" class="p-6">
        <div class="container mx-auto flex justify-between items-center">
            <a href="#hero" class="font-display text-2xl tracking-wider">MEHFOOZ</a>
            <nav class="hidden md:flex space-x-8 text-slate-400">
                <a href="#problem">The Problem</a>
                <a href="#solution">Our Solution</a>
                <a href="#ecosystem">Our Ecosystem</a>
                <a href="#roadmap">Roadmap</a>
                <a href="#insights">Insights</a>
                <a href="#faq">FAQ</a>
            </nav>
            <a href="#contact" class="hidden md:inline-block border border-white text-white px-6 py-2 rounded-full hover:bg-white hover:text-black transition-colors">
                Contact
            </a>
        </div>
    </header>

    <main>
        <!-- SECTION 1: HERO -->
        <section id="hero" class="h-screen flex flex-col justify-center items-center text-center p-6 relative">
            <div class="float-anim" style="animation-delay: -1s;">
                <h1 class="font-display text-7xl md:text-9xl lg:text-[10rem] tracking-tighter">
                    <div class="reveal-container"><span class="reveal-text">THE DIGITAL WORLD IS NOISY.</span></div>
                </h1>
                <h1 class="font-display text-7xl md:text-9xl lg:text-[10rem] tracking-tighter mt-[-1rem] md:mt-[-2rem]">
                    <div class="reveal-container"><span class="reveal-text" style="transition-delay: 0.2s;">WE PROVIDE THE SIGNAL.</span></div>
                </h1>
            </div>
            <div class="fade-in mt-8 max-w-4xl" style="transition-delay: 0.5s;">
                <p class="text-lg md:text-xl text-slate-400">
                    Mehfooz is a culturally-architected platform to empower the people of Gilgit Baltistan with trustworthy, lifelong learning opportunities that promote online safety and digital literacy, enabling them to navigate and thrive in an increasingly connected world.
                </p>
            </div>
        </section>

        <!-- SECTION 2: OUR CORE VALUES -->
        <section id="values" class="py-32 bg-slate-900/30">
            <div class="container mx-auto px-6">
                <div class="text-center">
                     <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                        <span class="reveal-container"><span class="reveal-text">OUR CORE VALUES</span></span>
                    </h2>
                </div>
                <div class="mt-20 grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Value Card 1: Collaboration -->
                    <div class="fade-in holographic-card p-8 rounded-2xl text-center">
                        <div class="glare"></div>
                        <div class="inline-block p-4 bg-sky-500/10 rounded-full mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-sky-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21v-1a6 6 0 00-5.173-5.975M15 21a6 6 0 00-9-5.197" /></svg>
                        </div>
                        <h3 class="font-display text-3xl">Collaboration</h3>
                        <p class="text-slate-400 mt-2 text-sm">We build partnerships with local leaders, researchers, and students to create a holistic approach to combating misinformation.</p>
                    </div>
                    <!-- Value Card 2: Integrity -->
                    <div class="fade-in holographic-card p-8 rounded-2xl text-center" style="transition-delay: 0.2s;">
                        <div class="glare"></div>
                        <div class="inline-block p-4 bg-indigo-500/10 rounded-full mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z" /></svg>
                        </div>
                        <h3 class="font-display text-3xl">Integrity</h3>
                        <p class="text-slate-400 mt-2 text-sm">We uphold the highest standards of accuracy, ensuring users receive trustworthy information to build a foundation of truth.</p>
                    </div>
                    <!-- Value Card 3: Inclusivity -->
                    <div class="fade-in holographic-card p-8 rounded-2xl text-center" style="transition-delay: 0.4s;">
                        <div class="glare"></div>
                        <div class="inline-block p-4 bg-emerald-500/10 rounded-full mb-4">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-emerald-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 21l5.25-11.25L21 21m-9-3h7.5M3 5.621a48.474 48.474 0 016-.371m0 0c1.12 0 2.233.038 3.334.114M9 5.25V3m3.334 2.364C11.176 10.658 7.69 15.08 3 17.502" /></svg>
                        </div>
                        <h3 class="font-display text-3xl">Inclusivity</h3>
                        <p class="text-slate-400 mt-2 text-sm">We embrace diversity by providing resources in multiple indigenous languages, ensuring everyone has access to digital education.</p>
                    </div>
                     <!-- Value Card 4: Innovation -->
                    <div class="fade-in holographic-card p-8 rounded-2xl text-center" style="transition-delay: 0.6s;">
                        <div class="glare"></div>
                        <div class="inline-block p-4 bg-rose-500/10 rounded-full mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-rose-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.82m5.84-2.56a6 6 0 016 6H21a6 6 0 00-6-6v-1.07a6 6 0 01-5.84 7.38v-4.82m5.84-2.56l-3.29-3.29m0 0a3 3 0 00-4.24 0l-3.29 3.29a3 3 0 000 4.24l3.29 3.29a3 3 0 004.24 0l3.29-3.29a3 3 0 000-4.24z" /></svg>
                        </div>
                        <h3 class="font-display text-3xl">Innovation</h3>
                        <p class="text-slate-400 mt-2 text-sm">We leverage cutting-edge technologies, including AI, to continuously enhance our educational offerings and user experience.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: THE PROBLEM & SOLUTION -->
        <section id="problem" class="container mx-auto px-6 py-32 space-y-32">
            <div class="max-w-4xl mx-auto text-center">
                <div class="float-anim">
                    <h2 class="font-display text-6xl md:text-8xl tracking-tight">
                        <span class="reveal-container"><span class="reveal-text">INFORMATION OVERLOAD</span></span>
                        <span class="reveal-container"><span class="reveal-text" style="transition-delay: 0.1s;">IS A VULNERABILITY.</span></span>
                    </h2>
                    <div class="reveal-container">
                        <p class="mt-6 text-xl text-slate-400 reveal-text" style="transition-delay: 0.3s;">
                           In Gilgit Baltistan, rapid technological adoption, including advanced tools like AI, is outpacing digital literacy. This creates a critical gap in knowledge, leaving communities vulnerable to tech-enabled misinformation, inadequate online safety practices, and digital exclusion.
                        </p>
                    </div>
                </div>
            </div>

            <div id="solution" class="grid lg:grid-cols-2 gap-16 items-center">
                <div class="fade-in float-anim" style="animation-delay: -3s;">
                    <h3 class="font-display text-6xl md:text-7xl tracking-tight leading-none">MEET MEHFOOZBOT</h3>
                    <p class="mt-6 text-xl text-slate-300">
                        Our AI-driven chatbot provides personalized learning and immediate assistance in local languages. It’s a personal tutor, a fact-checker, and a guide to a safer digital life, accessible 24/7 on platforms you already use.
                    </p>
                     <div class="mt-8 flex flex-wrap gap-4 text-sm">
                        <span class="bg-sky-400/10 text-sky-400 py-1 px-3 rounded-full">AI-Powered</span>
                        <span class="bg-indigo-400/10 text-indigo-400 py-1 px-3 rounded-full">Multilingual</span>
                        <span class="bg-emerald-400/10 text-emerald-400 py-1 px-3 rounded-full">24/7 Access</span>
                        <span class="bg-rose-400/10 text-rose-400 py-1 px-3 rounded-full">Fact-Checking</span>
                    </div>
                </div>
                <div class="fade-in" style="transition-delay: 0.2s;">
                    <div class="chat-ui holographic-card rounded-2xl p-6 shadow-2xl">
                       <div class="glare"></div>
                        <div class="space-y-4 h-96 flex flex-col justify-end">
                            <div class="chat-bubble self-start bg-slate-700 rounded-lg p-3 max-w-xs">How do I know if a news story is fake?</div>
                            <div class="chat-bubble self-end bg-blue-600 rounded-lg p-3 max-w-xs" style="transition-delay: 0.5s;">Great question. Check the source. Is it a well-known, reputable news organization?</div>
                            <div class="chat-bubble self-start bg-slate-700 rounded-lg p-3 max-w-xs" style="transition-delay: 1s;">It was a screenshot on WhatsApp.</div>
                            <div class="chat-bubble self-end bg-blue-600 rounded-lg p-3 max-w-xs" style="transition-delay: 1.5s;">Screenshots can be altered. A key sign of real news is a link to a credible source. Try searching the headline on a trusted site.</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: ECOSYSTEM -->
        <section id="ecosystem" class="container mx-auto px-6 py-32 relative">
             <div id="animated-grid"></div>
            <div class="text-center relative">
                 <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                    <span class="reveal-container"><span class="reveal-text">A COMPLETE ECOSYSTEM</span></span>
                </h2>
                <p class="mt-6 text-xl max-w-3xl mx-auto text-slate-400 fade-in">
                    We deliver high-quality educational content through a multi-faceted approach that combines technology with deep community integration.
                </p>
            </div>
            <div class="mt-20 grid md:grid-cols-3 gap-8 relative">
                <div class="fade-in holographic-card p-8 rounded-2xl float-anim" style="animation-delay: -1s;">
                    <div class="glare"></div>
                    <div class="buzzing-icon w-12 h-12 mb-4 text-sky-400">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                    </div>
                    <h3 class="font-display text-3xl">Community Trust</h3>
                    <p class="text-slate-400 mt-2">Engaging local leaders (Ulema) as trusted digital literacy ambassadors, bridging technology with tradition.</p>
                </div>
                <div class="fade-in holographic-card p-8 rounded-2xl float-anim" style="animation-delay: -2.5s;">
                    <div class="glare"></div>
                     <div class="buzzing-icon w-12 h-12 mb-4 text-sky-400">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" /></svg>
                     </div>
                    <h3 class="font-display text-3xl">Hyper-Localized Mini-Courses</h3>
                    <p class="text-slate-400 mt-2">Bite-sized courses in multiple indigenous languages that address specific regional misinformation threats.</p>
                </div>
                <div class="fade-in holographic-card p-8 rounded-2xl float-anim" style="animation-delay: -4s;">
                    <div class="glare"></div>
                     <div class="buzzing-icon w-12 h-12 mb-4 text-sky-400">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1"><path stroke-linecap="round" stroke-linejoin="round" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V4a2 2 0 012-2h8a2 2 0 012 2v2z" /></svg>
                     </div>
                    <h3 class="font-display text-3xl">Youth Feedback Loop</h3>
                    <p class="text-slate-400 mt-2">Local students provide continuous feedback, ensuring content is always relevant, effective, and evolving.</p>
                </div>
            </div>
        </section>

        <!-- NEW SECTION: WHY NOW? -->
        <section id="why-now" class="py-32">
            <div class="container mx-auto px-6 max-w-4xl">
                 <div class="text-center p-12 border border-rose-500/30 rounded-2xl pulse-glow-border relative overflow-hidden bg-rose-500/5">
                     <div class="fade-in">
                        <h2 class="font-display text-6xl md:text-8xl tracking-tight text-rose-300">WHY NOW?</h2>
                        <p class="mt-6 text-xl text-slate-300 max-w-2xl mx-auto">
                            The need to address misinformation has never been more pressing. In conflict-prone regions like Gilgit Baltistan, where reliable local news is limited, residents turn to social media. This reliance can lead to the rapid spread of false narratives, exacerbating existing tensions.
                        </p>
                     </div>
                 </div>
            </div>
        </section>

        <!-- SECTION 5: THE VISION / ROADMAP -->
        <section id="roadmap" class="container mx-auto px-6 py-32">
            <div class="text-center max-w-4xl mx-auto">
                <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                    <span class="reveal-container"><span class="reveal-text">THE NEXT FIVE YEARS</span></span>
                </h2>
                <div class="reveal-container">
                    <p class="mt-6 text-xl text-slate-400 reveal-text" style="transition-delay: 0.3s;">
                        Our vision is to scale Mehfooz into a pivotal force for digital literacy across Pakistan and beyond, establishing a replicable model for global empowerment.
                    </p>
                </div>
            </div>
            <div class="mt-24 max-w-3xl mx-auto">
                <div class="fade-in timeline-item">
                    <div class="timeline-marker"></div>
                    <p class="text-sky-400 font-bold">YEAR 1-2</p>
                    <h3 class="font-display text-4xl mb-2">Phase 1: Foundation & Growth</h3>
                    <p class="text-slate-400">Reach a minimum of 100,000 users in Gilgit Baltistan, leveraging established educational networks and community structures for organic growth.</p>
                </div>
                <div class="fade-in timeline-item">
                    <div class="timeline-marker"></div>
                     <p class="text-sky-400 font-bold">YEAR 2-3</p>
                    <h3 class="font-display text-4xl mb-2">Phase 2: Platform Evolution</h3>
                    <p class="text-slate-400">Evolve to include AI-driven personalized learning paths, enhanced offline capabilities for remote areas, and expanded language support for new regions.</p>
                </div>
                <div class="fade-in timeline-item">
                    <div class="timeline-marker"></div>
                     <p class="text-sky-400 font-bold">YEAR 3-4</p>
                    <h3 class="font-display text-4xl mb-2">Phase 3: National Integration</h3>
                    <p class="text-slate-400">Deepen partnerships with national educational institutions, religious leaders, and community figures to ensure sustainable adoption and impact across Pakistan.</p>
                </div>
                <div class="fade-in timeline-item">
                    <div class="timeline-marker"></div>
                     <p class="text-sky-400 font-bold">YEAR 5</p>
                    <h3 class="font-display text-4xl mb-2">Phase 4: Global Replication</h3>
                    <p class="text-slate-400">Adapt and deploy our model in other underserved communities worldwide, continuing with a freemium structure and institutional licenses.</p>
                </div>
            </div>
        </section>
        
        <!-- IMPACT SECTION -->
        <section id="impact" class="py-32 bg-slate-900/30">
            <div class="container mx-auto px-6 text-center">
                <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                    <span class="reveal-container"><span class="reveal-text">MEASURABLE IMPACT</span></span>
                </h2>
                <p class="mt-6 text-xl max-w-3xl mx-auto text-slate-400 fade-in">
                    We are committed to transparently tracking our progress and sharing the tangible results of our efforts in communities.
                </p>
                <div class="mt-20 grid grid-cols-1 md:grid-cols-3 gap-12">
                    <div class="fade-in">
                        <span class="impact-number text-7xl text-sky-400" data-target="15">0</span>
                        <p class="mt-2 text-xl text-slate-300">Languages & Dialects Supported</p>
                    </div>
                    <div class="fade-in" style="transition-delay: 0.2s;">
                        <span class="impact-number text-7xl text-sky-400" data-target="100000">0</span><span class="impact-number text-7xl text-sky-400">+</span>
                        <p class="mt-2 text-xl text-slate-300">Users Empowered (Year 2 Goal)</p>
                    </div>
                    <div class="fade-in" style="transition-delay: 0.4s;">
                        <span class="impact-number text-7xl text-sky-400" data-target="95">0</span><span class="impact-number text-7xl text-sky-400">%</span>
                        <p class="mt-2 text-xl text-slate-300">Improved Misinformation Recognition</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 6: TECHNOLOGY & DATA VISUALIZATION -->
        <section id="technology" class="container mx-auto px-6 py-32">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div class="fade-in float-anim">
                    <h2 class="font-display text-6xl md:text-7xl tracking-tight leading-none">THE ENGINE OF CLARITY</h2>
                    <p class="mt-6 text-xl text-slate-300">
                        We leverage a robust stack of technologies, including advanced AI and machine learning, to power our educational offerings. Our focus is on creating scalable, secure, and highly accessible solutions.
                    </p>
                </div>
                <div class="fade-in">
                    <canvas id="data-globe-canvas" class="w-full h-auto aspect-square"></canvas>
                </div>
            </div>
            
            <div id="terminal-section" class="mt-32 max-w-4xl mx-auto">
                <div class="fade-in">
                    <div class="flex items-center space-x-2 p-3 bg-slate-800 rounded-t-lg">
                        <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                        <div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
                        <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    </div>
                    <div id="terminal" class="rounded-b-lg p-4"></div>
                </div>
            </div>
        </section>
        
        <!-- NEW SECTION: LATEST INSIGHTS (BLOG) -->
        <section id="insights" class="py-32">
            <div class="container mx-auto px-6">
                <div class="text-center max-w-4xl mx-auto">
                    <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                        <span class="reveal-container"><span class="reveal-text">LATEST INSIGHTS</span></span>
                    </h2>
                    <div class="reveal-container">
                        <p class="mt-6 text-xl text-slate-400 reveal-text" style="transition-delay: 0.3s;">
                            Exploring the evolving landscape of digital literacy, misinformation, and the technologies shaping our future.
                        </p>
                    </div>
                </div>
                <div class="mt-20 grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Blog Card 1 -->
                    <a href="#" class="fade-in blog-card border border-slate-800 p-8 rounded-2xl block group">
                        <p class="text-sm text-sky-400">DEEP DIVE</p>
                        <h3 class="font-display text-3xl mt-2">The Anatomy of a Fake News Cascade</h3>
                        <p class="text-slate-400 mt-4">An analysis of how false narratives propagate through closed social networks in Gilgit Baltistan.</p>
                        <div class="mt-6 font-bold flex items-center">
                            Read More <span class="ml-2 blog-card-arrow">&rarr;</span>
                        </div>
                    </a>
                    <!-- Blog Card 2 -->
                    <a href="#" class="fade-in blog-card border border-slate-800 p-8 rounded-2xl block group" style="transition-delay: 0.2s;">
                        <p class="text-sm text-sky-400">TECHNOLOGY</p>
                        <h3 class="font-display text-3xl mt-2">Training AI on Indigenous Languages</h3>
                        <p class="text-slate-400 mt-4">The challenges and breakthroughs in developing NLP models for low-resource languages.</p>
                        <div class="mt-6 font-bold flex items-center">
                            Read More <span class="ml-2 blog-card-arrow">&rarr;</span>
                        </div>
                    </a>
                    <!-- Blog Card 3 -->
                    <a href="#" class="fade-in blog-card border border-slate-800 p-8 rounded-2xl block group" style="transition-delay: 0.4s;">
                        <p class="text-sm text-sky-400">COMMUNITY</p>
                        <h3 class="font-display text-3xl mt-2">Digital Scribes: How Ulema are Leading the Charge</h3>
                        <p class="text-slate-400 mt-4">A case study on the success of our community partnership program and its impact on digital adoption.</p>
                        <div class="mt-6 font-bold flex items-center">
                            Read More <span class="ml-2 blog-card-arrow">&rarr;</span>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- NEW SECTION: FAQ -->
        <section id="faq" class="py-32 bg-slate-900/30">
            <div class="container mx-auto px-6 max-w-4xl">
                <div class="text-center">
                    <h2 class="font-display text-6xl md:text-8xl tracking-tight float-anim">
                        <span class="reveal-container"><span class="reveal-text">FREQUENTLY ASKED QUESTIONS</span></span>
                    </h2>
                </div>
                <div class="mt-20 space-y-4">
                    <div class="fade-in faq-item border border-slate-800 rounded-lg">
                        <details>
                            <summary class="p-6 flex justify-between items-center font-display text-2xl">
                                Who is this platform for?
                                <span class="faq-icon text-2xl">+</span>
                            </summary>
                            <div class="p-6 pt-0 text-slate-400">
                                <p>Mehfooz is designed for everyone in communities vulnerable to misinformation, including students, community members, local leaders (Ulema), educational institutions, researchers and policymakers in regions like Gilgit Baltistan. Our goal is to make digital literacy accessible to all.</p>
                            </div>
                        </details>
                    </div>
                    <div class="fade-in faq-item border border-slate-800 rounded-lg" style="transition-delay: 0.2s;">
                        <details>
                            <summary class="p-6 flex justify-between items-center font-display text-2xl">
                                How is your content created and verified?
                                <span class="faq-icon text-2xl">+</span>
                            </summary>
                            <div class="p-6 pt-0 text-slate-400">
                                <p>Our educational materials are developed in collaboration with local leaders, researchers, and students to ensure cultural relevance and accuracy. We uphold the highest standards of integrity, fact-checking our content rigorously to provide trustworthy information.</p>
                            </div>
                        </details>
                    </div>
                    <div class="fade-in faq-item border border-slate-800 rounded-lg" style="transition-delay: 0.4s;">
                        <details>
                            <summary class="p-6 flex justify-between items-center font-display text-2xl">
                                What makes Mehfooz different?
                                <span class="faq-icon text-2xl">+</span>
                            </summary>
                            <div class="p-6 pt-0 text-slate-400">
                                <p>Our primary focus is on proactive education, not just fact-checking. We differentiate ourselves through hyper-localized content in indigenous languages, deep community integration with local leaders (Ulema), and innovative technology like the MehfoozBot to provide personalized, preventative learning experiences.</p>
                            </div>
                        </details>
                    </div>
                    <div class="fade-in faq-item border border-slate-800 rounded-lg" style="transition-delay: 0.6s;">
                        <details>
                            <summary class="p-6 flex justify-between items-center font-display text-2xl">
                                How can I get involved or support your mission?
                                <span class="faq-icon text-2xl">+</span>
                            </summary>
                            <div class="p-6 pt-0 text-slate-400">
                                <p>We are always looking for partners, investors, community leaders, and volunteers. If you are passionate about combating misinformation and promoting digital literacy, please reach out to us via the contact form below. We'd love to explore how we can collaborate.</p>
                            </div>
                        </details>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 7: CONTACT FORM -->
        <section id="contact" class="py-32 relative overflow-hidden">
            <div class="container mx-auto px-6 max-w-4xl text-center">
                <div class="fade-in float-anim relative">
                    <h2 class="font-display text-6xl md:text-8xl tracking-tight">JOIN OUR MISSION</h2>
                    <p class="mt-6 text-xl max-w-3xl mx-auto text-slate-400">
                        We are building a coalition of partners, investors, and community leaders. If you are committed to solving the digital vulnerability crisis, let's connect.
                    </p>
                </div>

                <form id="contact-form" class="mt-16 text-left max-w-2xl mx-auto space-y-6 fade-in" style="transition-delay: 0.3s;">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label for="name" class="block text-sm font-medium text-slate-400 mb-2">Full Name</label>
                            <input type="text" id="name" name="name" required class="form-input w-full px-4 py-3 rounded-lg text-white placeholder-slate-500">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-400 mb-2">Email Address</label>
                            <input type="email" id="email" name="email" required class="form-input w-full px-4 py-3 rounded-lg text-white placeholder-slate-500">
                        </div>
                    </div>
                    <div>
                        <label for="interest" class="block text-sm font-medium text-slate-400 mb-2">I am interested in...</label>
                        <select id="interest" name="interest" class="form-select w-full px-4 py-3 rounded-lg text-white">
                            <option>Partnership Opportunities</option>
                            <option>Investing</option>
                            <option>Volunteering</option>
                            <option>General Inquiry</option>
                            <option>Press</option>
                        </select>
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-slate-400 mb-2">Message</label>
                        <textarea id="message" name="message" rows="5" required class="form-textarea w-full px-4 py-3 rounded-lg text-white placeholder-slate-500"></textarea>
                    </div>
                    <div>
                        <button type="submit" class="form-submit-button w-full bg-gradient-to-r from-sky-500 to-indigo-500 text-white font-bold text-lg py-4 px-12 rounded-full">
                            <span class="button-glare"></span>
                            Send Message
                        </button>
                    </div>
                    <div id="form-status" class="mt-4 text-center"></div>
                </form>
            </div>
        </section>
        
        <!-- FOOTER -->
        <footer class="bg-slate-900/50 py-12 px-6">
            <div class="container mx-auto text-center text-slate-400">
                <p>&copy; 2025 Mehfooz. All rights reserved.</p>
                <p class="mt-2 text-sm">A new paradigm for digital literacy and community empowerment.</p>
                <div class="mt-6 flex justify-center space-x-6">
                    <a href="#" class="hover:text-white transition-colors">Twitter</a>
                    <a href="#" class="hover:text-white transition-colors">LinkedIn</a>
                    <a href="#" class="hover:text-white transition-colors">Facebook</a>
                </div>
            </div>
        </footer>
    </main>

<script>
/**
 * @file Main execution script for the Mehfooz interactive website.
 * @description This script handles all client-side functionality including pre-loading,
 * custom cursor effects, animations on scroll, interactive 3D elements, and form handling.
 * It is designed to be self-contained and executed after the DOM is fully loaded.
 * @author Gemini
 * @version 3.0.0
 */
document.addEventListener('DOMContentLoaded', () => {

    /**
     * Linearly interpolates between two numbers.
     * @param {number} t - The interpolation factor, typically between 0 and 1.
     * @param {number} a - The starting value.
     * @param {number} b - The ending value.
     * @returns {number} The interpolated value.
     */
    const lerp = (t, a, b) => a + t * (b - a);

    // --- Module: Pre-loader Logic ---
    // Manages the initial loading animation to ensure a smooth entry experience.
    (() => {
        const preloader = document.getElementById('preloader');
        if (!preloader) return;
        
        const loaderText = preloader.querySelector('.loader-text');
        const loaderBar = document.getElementById('loader-bar');
        const text = "MEHFOOZ";

        // Split text into characters for the reveal animation
        text.split('').forEach((char, i) => {
            const span = document.createElement('span');
            span.className = 'loader-char';
            span.textContent = char;
            span.style.animationDelay = `${i * 0.1}s`;
            if (loaderText) loaderText.appendChild(span);
        });

        // Animate the loader bar after a short delay
        setTimeout(() => {
            if (loaderBar) loaderBar.style.width = '100%';
        }, 100);

        // Hide preloader after window loads and animations complete
        window.addEventListener('load', () => {
            setTimeout(() => {
                preloader.classList.add('loaded');
                document.body.classList.remove('loading');
            }, 2500); // This delay should be longer than the loading animations
        });
    })();


    // --- Module: Custom Cursor ---
    // Creates an interactive cursor that follows the mouse and reacts to hoverable elements.
    (() => {
        const cursorDot = document.getElementById('cursor-dot');
        const cursorOutline = document.getElementById('cursor-outline');
        if (!cursorDot || !cursorOutline) return;
        
        // Update cursor position on mouse move
        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;
            
            // Dot follows instantly
            cursorDot.style.transform = `translate(${posX}px, ${posY}px)`;

            // Outline has a slight delay for a smoother effect
            cursorOutline.animate({
                transform: `translate(${posX - 20}px, ${posY - 20}px)`
            }, { duration: 500, fill: "forwards"});
        });
        
        // Add hover effects to interactive elements
        const interactiveElements = 'a, button, .holographic-card, summary, .form-input, .form-textarea, .form-select';
        document.querySelectorAll(interactiveElements).forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursorOutline.classList.add('cursor-active');
                cursorDot.classList.add('dot-active');
            });
            el.addEventListener('mouseleave', () => {
                cursorOutline.classList.remove('cursor-active');
                cursorDot.classList.remove('dot-active');
            });
        });
    })();
    
    // --- Module: Header Visibility Controller ---
    // Shows or hides the main navigation header based on scroll position.
    (() => {
        const header = document.getElementById('main-header');
        if (!header) return;

        window.addEventListener('scroll', () => {
            if (window.scrollY > 200) {
                header.classList.add('header-visible');
            } else {
                header.classList.remove('header-visible');
            }
        });
    })();

    // --- Module: Dynamic Background Canvases ---
    // Renders and animates a dynamic starfield and a Perlin noise nebula.
    (() => {
        const starfieldCanvas = document.getElementById('starfield-canvas');
        const nebulaCanvas = document.getElementById('nebula-canvas');
        if (!starfieldCanvas || !nebulaCanvas) return;

        const starfieldCtx = starfieldCanvas.getContext('2d');
        const nebulaCtx = nebulaCanvas.getContext('2d');

        let width, height;
        let stars = [];
        const starCount = 800;  
        let shootingStars = [];
        let frame = 0;

        // Perlin noise generator for the nebula effect
        const noise = (() => {
            const p = new Uint8Array(512);
            for(let i=0; i < 256; i++) p[i] = p[i+256] = Math.floor(Math.random()*256);
            const fade = t => t*t*t*(t*(t*6-15)+10);
            const grad = (hash,x,y,z) => {
                const h = hash & 15;
                const u = h<8 ? x:y;
                const v = h<4 ? y : h===12||h===14 ? x:z;
                return ((h&1)===0?u:-u) + ((h&2)===0?v:-v);
            }
            return {
                noise: (x,y,z) => {
                    const X = Math.floor(x)&255, Y = Math.floor(y)&255, Z = Math.floor(z)&255;
                    x-=Math.floor(x); y-=Math.floor(y); z-=Math.floor(z);
                    const u = fade(x), v = fade(y), w = fade(z);
                    const A=p[X]+Y, AA=p[A]+Z, AB=p[A+1]+Z, B=p[X+1]+Y, BA=p[B]+Z, BB=p[B+1]+Z;
                    return lerp(w, lerp(v, lerp(u, grad(p[AA],x,y,z), grad(p[BA],x-1,y,z)),
                                     lerp(u, grad(p[AB],x,y-1,z), grad(p[BB],x-1,y-1,z))),
                               lerp(v, lerp(u, grad(p[AA+1],x,y,z-1), grad(p[BA+1],x-1,y,z-1)),
                                     lerp(u, grad(p[AB+1],x,y-1,z-1), grad(p[BB+1],x-1,y-1,z-1))));
                }
            }
        })();
        let noiseZ = Math.random() * 100;

        function initBackgrounds() {
            width = window.innerWidth;
            height = window.innerHeight;
            starfieldCanvas.width = width;
            starfieldCanvas.height = height;
            nebulaCanvas.width = width;
            nebulaCanvas.height = height;
            stars = [];
            for (let i = 0; i < starCount; i++) {
                stars.push({
                    x: (Math.random() - 0.5) * width * 2,
                    y: (Math.random() - 0.5) * height * 2,
                    z: Math.random() * width * 1.5,
                    size: Math.random() * 2 + 1,
                    opacity: Math.random() * 0.5 + 0.5,
                });
            }
        }
        
        function animateBackgrounds() {
            if (!width || !height) {
                requestAnimationFrame(animateBackgrounds);
                return;
            }

            // Animate Nebula (optimized to render less frequently)
            if (frame % 3 === 0) { 
                const imageData = nebulaCtx.createImageData(width, height);
                const data = imageData.data;
                noiseZ += 0.005;
                for(let x=0; x < width; x+=4) {
                    for(let y=0; y < height; y+=4) {
                        const value = Math.abs(noise.noise(x/300, y/300, noiseZ));
                        const c = value * 255;
                        const r = lerp(value, 56, 129);
                        const g = lerp(value, 189, 140);
                        const b = lerp(value, 248, 248);

                        for(let dx=0; dx<4; dx++) {
                            for(let dy=0; dy<4; dy++) {
                                if (x+dx < width && y+dy < height) {
                                    let i = ((y+dy)*width + (x+dx)) * 4;
                                    data[i] = r; data[i+1] = g; data[i+2] = b; data[i+3] = c * 0.7;
                                }
                            }
                        }
                    }
                }
                nebulaCtx.putImageData(imageData, 0, 0);
            }

            // Animate Stars
            starfieldCtx.clearRect(0, 0, width, height);
            stars.forEach(star => {
                star.z -= 0.75;
                if (star.z <= 0) {
                    star.x = (Math.random() - 0.5) * width * 2;
                    star.y = (Math.random() - 0.5) * height * 2;
                    star.z = width;
                }
                const k = 128 / star.z;
                const px = star.x * k + width / 2;
                const py = star.y * k + height / 2;
                if (px >= 0 && px <= width && py >= 0 && py <= height) {
                    const size = star.size * k;
                    starfieldCtx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`;
                    starfieldCtx.beginPath();
                    starfieldCtx.arc(px, py, size / 2, 0, Math.PI * 2);
                    starfieldCtx.fill();
                }
            });
            
            // Generate and animate shooting stars
            if (Math.random() > 0.995 && shootingStars.length < 3) {
                shootingStars.push({
                    x: Math.random() * width, y: 0,
                    len: Math.random() * 80 + 10, speed: Math.random() * 10 + 5,
                    opacity: 1
                });
            }

            for (let i = shootingStars.length - 1; i >= 0; i--) {
                const s = shootingStars[i];
                s.x += s.speed; s.y += s.speed; s.opacity -= 0.02;
                if (s.opacity <= 0) {
                    shootingStars.splice(i, 1);
                } else {
                    starfieldCtx.beginPath();
                    starfieldCtx.moveTo(s.x, s.y);
                    starfieldCtx.lineTo(s.x + s.len, s.y + s.len);
                    starfieldCtx.strokeStyle = `rgba(255, 255, 255, ${s.opacity})`;
                    starfieldCtx.stroke();
                }
            }
            frame++;
            requestAnimationFrame(animateBackgrounds);
        }

        initBackgrounds();
        animateBackgrounds();
        window.addEventListener('resize', initBackgrounds);
    })();

    // --- Module: Interactive Data Globe ---
    // Renders a rotating 3D globe with data points.
    (() => {
        const globeCanvas = document.getElementById('data-globe-canvas');
        if (!globeCanvas) return;

        const globeCtx = globeCanvas.getContext('2d');
        let globeSize = globeCanvas.clientWidth;
        
        function resizeGlobe() {
            globeSize = globeCanvas.clientWidth;
            globeCanvas.width = globeSize * 2; // Use higher resolution for crispness
            globeCanvas.height = globeSize * 2;
            globeCtx.scale(2, 2);
        }
        resizeGlobe();
        window.addEventListener('resize', resizeGlobe);
        
        const radius = globeSize / 2.5;
        const dots = [];
        const numDots = 150;
        let rotation = 0;

        for(let i=0; i<numDots; i++){ dots.push({ theta: Math.random() * Math.PI, phi: Math.random() * 2 * Math.PI, size: Math.random() * 3 + 1 }); }

        function animateGlobe() {
            globeCtx.clearRect(0,0, globeSize, globeSize);
            globeCtx.strokeStyle = "rgba(129, 140, 248, 0.3)";
            globeCtx.beginPath();
            globeCtx.arc(globeSize / 2, globeSize / 2, radius, 0, 2 * Math.PI);
            globeCtx.stroke();

            dots.forEach(dot => {
                const x = radius * Math.sin(dot.theta) * Math.cos(dot.phi + rotation);
                const y = radius * Math.sin(dot.theta) * Math.sin(dot.phi + rotation);
                const z = radius * Math.cos(dot.theta);
                const projectedScale = 1 + z / (radius * 2);
                const projectedX = x * projectedScale + globeSize/2;
                const projectedY = y * projectedScale + globeSize/2;
                const alpha = (z + radius) / (2 * radius);
                if(z > -radius * 0.7) { // Only draw dots on the front side
                    globeCtx.beginPath();
                    globeCtx.arc(projectedX, projectedY, dot.size * projectedScale / 2, 0, 2 * Math.PI);
                    globeCtx.fillStyle = `rgba(56, 189, 248, ${alpha})`;
                    globeCtx.fill();
                }
            });

            rotation += 0.005;
            requestAnimationFrame(animateGlobe);
        }
        animateGlobe();
    })();

    // --- Module: Holographic Card Tilt Effect ---
    // Adds a 3D tilt effect to cards on mouse movement.
    (() => {
        const cards = document.querySelectorAll('.holographic-card');
        cards.forEach(card => {
            const glare = card.querySelector('.glare');
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left; 
                const y = e.clientY - rect.top;
                const { width, height } = rect;
                const rotateX = (y / height - 0.5) * -20; // Invert for natural feel
                const rotateY = (x / width - 0.5) * 20;
                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                if(glare) {
                  glare.style.opacity = '1';
                  glare.style.transform = `translate(${x - width/2}px, ${y - height/2}px)`;
                }
            });
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg)';
                if(glare) glare.style.opacity = '0';
            });
        });
    })();

    // --- Module: Animated Counters ---
    // Animates numbers from 0 to a target value when they become visible.
    const animateCounter = (el) => {
        const target = +el.getAttribute('data-target');
        const duration = 2500;
        let start = 0;
        const step = timestamp => {
            if (!start) start = timestamp;
            const progress = Math.min((timestamp - start) / duration, 1);
            // Ease-out quint function for a smooth deceleration
            const easedProgress = 1 - Math.pow(1 - progress, 5);
            const currentNum = Math.floor(easedProgress * target);
            el.innerText = currentNum.toLocaleString();
            if (progress < 1) {
                window.requestAnimationFrame(step);
            } else {
                el.innerText = target.toLocaleString();
            }
        };
        window.requestAnimationFrame(step);
    };

    // --- Module: Interactive Terminal Animation ---
    // Simulates a terminal boot sequence and activity log.
    const animateTerminal = () => {
        const terminalElement = document.getElementById('terminal');
        if (!terminalElement || terminalElement.dataset.animated) return;
        terminalElement.dataset.animated = 'true'; // Prevent re-animation

        const lines = [
            { text: "booting mehfoozOS v3.0...", delay: 20 },
            { text: "initializing cognitive cores...", delay: 20 },
            { text: "establishing secure uplink to community nodes...", status: "OK", delay: 50 },
            { text: "loading linguistic models [ur, en, shn, btl, khw, wkh]...", status: "DONE", delay: 50 },
            { text: "compiling community feedback data stream...", delay: 20},
            { text: "syncing with global misinformation threat database...", status: "OK", delay: 50},
            { text: "SYSTEM READY. Awaiting input.", delay: 20 },
            { text: "", delay: 300 },
            { text: "run monitor --social --realtime", delay: 40, command: true },
            { text: "Monitoring active data streams for misinformation patterns...", delay: 20 },
            { text: "[INFO] Pattern detected: Type-3 Viral Disinformation.", delay: 15 },
            { text: "[INFO] Source: Encrypted Social Media Group.", delay: 15 },
            { text: "[INFO] Cross-referencing with known narratives... Match found: 'false_health_remedy_v2'.", delay: 15 },
            { text: "[ACTION] Deploying educational counter-module to 12,450 nodes.", delay: 15 },
            { text: "[SUCCESS] Threat neutralized. Confidence: 99.8%", delay: 15, color: "#22c55e" },
            { text: "", delay: 300 },
            { text: "[INFO] Pattern detected: Phishing Scam.", delay: 15 },
            { text: "[INFO] Vector: SMS. Target: Financial Institutions.", delay: 15 },
            { text: "[ACTION] Analyzing payload... Standard credential theft attempt.", delay: 15 },
            { text: "[ACTION] Issuing community-wide alert via MehfoozBot & social channels.", delay: 15 },
            { text: "[SUCCESS] Alert deployed. Threat contained.", delay: 15, color: "#22c55e" },
        ];
        
        let lineIndex = 0;
        const typeLine = () => {
            if (lineIndex >= lines.length) return;
            
            const line = lines[lineIndex];
            const p = document.createElement('p');
            p.className = 'terminal-line';
            if (line.command) p.classList.add('command');
            if (line.color) p.style.color = line.color;

            let charIndex = 0;
            const typeChar = () => {
                if(charIndex < line.text.length) {
                    p.textContent += line.text[charIndex];
                    charIndex++;
                    terminalElement.scrollTop = terminalElement.scrollHeight;
                    setTimeout(typeChar, line.delay);
                } else {
                    if (line.status) {
                        const statusSpan = document.createElement('span');
                        statusSpan.textContent = ` [${line.status}]`;
                        statusSpan.style.color = '#22c55e'; // green-500
                        p.appendChild(statusSpan);
                    }
                    lineIndex++;
                    typeLine();
                }
            };
            terminalElement.appendChild(p);
            typeChar();
        };
        
        terminalElement.innerHTML = '';
        typeLine();
    };

    // --- Module: Scroll Animations Observer ---
    // Uses IntersectionObserver to trigger animations when elements enter the viewport.
    (() => {
        const observer = new IntersectionObserver((entries, observerInstance) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    if (entry.target.id === 'impact' && !entry.target.dataset.animated) {
                        document.querySelectorAll('.impact-number').forEach(counter => { animateCounter(counter); });
                        entry.target.dataset.animated = 'true';
                    }
                    if (entry.target.id === 'terminal-section' && !entry.target.dataset.animated) {
                        animateTerminal();
                        entry.target.dataset.animated = 'true';
                    }
                }
            });
        }, { threshold: 0.25 }); // Trigger when 25% of the element is visible

        const elementsToObserve = '.reveal-container, .fade-in, .chat-ui, .chat-bubble, .timeline-item, #impact, .faq-item, #terminal-section, #contact-form';
        document.querySelectorAll(elementsToObserve).forEach(el => {
            observer.observe(el);
        });
    })();

    // --- Module: Scroll Progress Bar ---
    // Updates a progress bar at the top of the page based on scroll depth.
    (() => {
        const progressBar = document.getElementById('progress-bar');
        if (!progressBar) return;
        
        window.addEventListener('scroll', () => {
            const totalHeight = document.body.scrollHeight - window.innerHeight;
            const progress = (window.pageYOffset / totalHeight) * 100;
            progressBar.style.width = `${progress}%`;
        });
    })();
    
    // --- Module: Smooth Scrolling for Navigation ---
    // Implements smooth scrolling for all anchor links pointing to page sections.
    (() => {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetElement = document.querySelector(this.getAttribute('href'));
                if(targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    })();

    // --- Module: Contact Form Handler ---
    // Manages the contact form submission and provides user feedback.
    (() => {
        const form = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');
        if (!form || !formStatus) return;

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            formStatus.textContent = 'Sending...';
            formStatus.className = 'text-blue-400';

            // Simulate network delay
            setTimeout(() => {
                // In a real application, you would send the form data to a server here.
                formStatus.textContent = 'Thank you! Your message has been sent successfully.';
                formStatus.className = 'text-green-400';
                form.reset();

                // Clear the message after a few seconds
                setTimeout(() => {
                    formStatus.textContent = '';
                }, 5000);
            }, 1500);
        });
    })();
});
</script>
</body>
</html>

